# Архитектура приложения "КиберШторм"

## Основные модули

### 1. main.py
**Роль:** Точка входа в приложение
**Функциональность:**
- Инициализация Pygame и pygame-gui
- Загрузка и настройка фоновой музыки
- Управление основным игровым циклом
- Переключение между экранами игры

### 2. menu.py
**Роль:** Управление пользовательским интерфейсом
**Основные компоненты:**
- Главное меню
- Экран правил
- Экран паузы
- Финальный экран
**Функциональность:**
- Обработка пользовательского ввода
- Управление громкостью музыки
- Отображение игровых состояний

### 3. game.py
**Роль:** Логика игрового процесса
**Основные компоненты:**
- Игровой экран
- Система подсчета очков
- Таймер хода
- Управление раундами
**Функциональность:**
- Обработка игровых событий
- Управление ходами игрока и хакера
- Отслеживание состояния игры

### 4. card.py
**Роль:** Управление картами
**Основные компоненты:**
- Класс Card
- Система генерации колод
- Механика разрешения ходов
**Функциональность:**
- Визуализация карт
- Генерация защитных карт
- Обработка взаимодействий карт

### 5. settings.py
**Роль:** Конфигурация игры
**Содержит:**
- Настройки экрана
- Константы игры
- Пути к ресурсам
- Цветовые схемы

## Взаимодействие модулей

### Запуск игры:
1. `main.py` инициализирует Pygame и загружает музыку
2. Создается экземпляр `UIManager` для управления интерфейсом
3. Загружаются необходимые ресурсы (изображения, шрифты)

### Игровой процесс:
1. При нажатии "Начать игру" в `menu.py`:
   - Очищается текущий интерфейс
   - Вызывается `game_screen` из `game.py`

2. В `game_screen`:
   - Генерируется колода хакера через `random.sample(ATTACK_CARDS, 10)`
   - Вызывается `select_player_cards` из `card.py` для создания колоды игрока
   - Создаются экземпляры класса `Card` для отображения карт

3. Во время хода:
   - Игрок выбирает карту защиты
   - Вызывается `resolve_turn` из `card.py` для определения результата хода
   - Обновляются счета игрока и хакера
   - Проверяется условие окончания раунда

4. При окончании игры:
   - Вызывается `final_screen` из `menu.py`
   - Отображается результат игры
   - Предлагаются варианты дальнейших действий

### Особенности взаимодействия:
- Все модули используют общие константы из `settings.py`
- `card.py` предоставляет базовую функциональность для работы с картами
- `game.py` управляет игровым процессом, используя функции из `card.py`
- `menu.py` отвечает за пользовательский интерфейс и взаимодействие с игроком
- `main.py` координирует работу всех модулей и управляет переключением между экранами

## Поток данных

1. **Входные данные:**
   - Действия пользователя (мышь, клавиатура)
   - Настройки игры из `settings.py`
   - Ресурсы (изображения, музыка, шрифты)

2. **Обработка:**
   - `menu.py` обрабатывает пользовательский ввод
   - `game.py` управляет игровой логикой
   - `card.py` обрабатывает взаимодействия карт

3. **Выходные данные:**
   - Визуальное отображение игры
   - Звуковые эффекты и музыка
   - Результаты игры (победа/поражение) 